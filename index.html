<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <title>Cyn Iturriza - Sal√≥n de Belleza</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>

  <header>
    <div class="logo-container">
      <a href="index.html">
        <img src="./imagenes/logo-Photoroom.png" alt="Logo" class="imagen" width="120" height="120">
      </a>
    </div>
    <nav class="main-nav">
      <button class="nav-toggle" aria-label="Abrir men√∫">‚ò∞</button>
      <div class="nav-links">
        <a href="index.html#servicios">Servicios</a>
        <a href="index.html#contacto">Contactos</a>
        <a href="reclamos.html">Reclamos</a>
      </div>
    </nav>
    
  </header>

  <section class="hero">
    <h2>Tu belleza, nuestro arte</h2>
    <a href="turno.html">Reservar Ahora</a>
    <a href="cancelarturno.html">Cancelar Turno</a>
  </section>

  <section id="servicios">
    <h2>Servicios</h2>
    <div class="services">
      <div class="card">
        <h3>üíÖ Manicur√≠a</h3>
        <div id="manicuriaCarousel" class="carousel slide" data-bs-ride="carousel">
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img src="./imagenes/proceso-manicura-cuidado-unas_23-2149130359.jpg" width="500" height="400">
            </div>
            <div class="carousel-item">
              <img src="./imagenes/manicura2.webp" width="500" height="400">
            </div>
            <div class="carousel-item">
              <img src="./imagenes/manicura3.jpeg" width="500" height="400">
            </div>
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#manicuriaCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Anterior</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#manicuriaCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Siguiente</span>
          </button>
        </div>
      </div>
      <div class="card">
        <h3>üíÑ Maquillaje</h3>
        <div id="maquillajeCarousel" class="carousel slide" data-bs-ride="carousel">
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img src="./imagenes/maquillaje1.jpeg" width="500" height="400">
            </div>
            <div class="carousel-item">
              <img src="./imagenes/maquillaje2.jpeg" width="500" height="400">
            </div>
            <div class="carousel-item">
              <img src="./imagenes/maquillaje3.webp" width="500" height="400">
            </div>
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#maquillajeCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Anterior</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#maquillajeCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Siguiente</span>
          </button>
        </div>
      </div>
      <div class="card">
        <h3>üå∏ Depilaci√≥n</h3>
        <div id="depilacionCarousel" class="carousel slide" data-bs-ride="carousel">
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img src="./imagenes/depilacion1.jpg" width="500" height="400">
            </div>
            <div class="carousel-item">
              <img src="./imagenes/depilacion2.webp" width="500" height="400">
            </div>
            <div class="carousel-item">
              <img src="./imagenes/depilacion3.webp" width="500" height="400" >
            </div>
            <div class="carousel-item">
              <img src="./imagenes/depilacion4.jpg" width="500" height="400">
            </div>
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#depilacionCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Anterior</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#depilacionCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Siguiente</span>
          </button>
        </div>
      </div>
    </div>
  </section>

  <section id="quienes">
    <h2>Qui√©nes Somos</h2>
    <p>Soy una persona apasionado por la belleza y el cuidado personal, con a√±os de experiencia creando estilos √∫nicos.</p>
  </section>

  <section>
    <h2>Testimonios</h2>
    <div id="testimonios-carrusel" style="min-height: 60px; font-size: 1.15em;">
  <span class="testimonio-activo">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê "Excelente atenci√≥n, qued√© feliz con mi nuevo look" - Ana</span>
      <span>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê "Muy profesionales, me encant√≥ el resultado y la calidez humana." - Carla</span>
      <span>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê "El lugar es hermoso y el servicio impecable. ¬°Recomiendo!" - Luc√≠a</span>
      <span>‚≠ê‚≠ê‚≠ê‚≠ê "Me atendieron r√°pido y con mucha dedicaci√≥n. Volver√© seguro." - Sof√≠a</span>
      <span>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê "Me hicieron sentir c√≥moda y el maquillaje qued√≥ perfecto." - Micaela</span>
    </div>
  </section>

  <section id="contacto">
    <h2>Contacto & Consultas</h2>
    <p>üìç Barrio Virgen del Huerto Mza G Casa 8 - Villa Mariano Moreno</p>
    <p>üìû (381) 2224471 </p>
     <p><a href="https://wa.me/5493812224471?text=Hola%20quiero%20realizar%20una%20consulta%20en%20Espacio%20Belleza%20Cyn" target="_blank" style="color:#25d366;text-decoration:none;font-weight:bold;"><i class="fab fa-whatsapp"></i> WhatsApp: +54 9 381 5767145</a></p>
  
  </section>
  <section>
    <iframe src="https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d3562.7628030817514!2d-65.19738889999999!3d-26.7519444!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zMjbCsDQ1JzA3LjAiUyA2NcKwMTEnNTAuNiJX!5e0!3m2!1ses!2sar!4v1759363374774!5m2!1ses!2sar" width="350" height="550" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
  </section>
  <section id="newsletter" style="background:#fff0f6;padding:3rem 2rem;text-align:center;">
  <h2>üíå Suscribite </h2>
  <p>Recib√≠ promociones y novedades exclusivas del sal√≥n</p>
  <form id="formNewsletterInline" style="max-width:400px;margin:auto;display:flex;gap:10px;flex-wrap:wrap;">
    <input type="email" id="emailNewsletterInline" placeholder="Tu correo electr√≥nico" required
           style="flex:1;padding:12px 16px;border-radius:8px;border:1.5px solid #e83e8c;font-size:1em;">
    <button type="submit" style="background:#e83e8c;color:#fff;padding:12px 24px;border:none;border-radius:8px;font-size:1em;cursor:pointer;">Suscribirme</button>
  </form>
  <div id="mensajeNewsletterInline" style="display:none;margin-top:10px;color:#207520;font-weight:bold;">¬°Gracias por suscribirte! üíï</div>
  </section>
  <!-- üîπ Newsletter Popup (versi√≥n final y mejorada) -->
<div id="newsletterPopup" style="
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0,0,0,0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  visibility: hidden;
  opacity: 0;
  transition: opacity 0.4s ease, visibility 0.4s ease;
">
  <div id="popupContent" style="
    background: white;
    padding: 45px 40px 30px 40px;
    border-radius: 15px;
    max-width: 400px;
    width: 90%;
    text-align: center;
    box-shadow: 0 8px 24px rgba(0,0,0,0.25);
    position: relative;
    transform: scale(0.9);
    transition: all 0.3s ease;
  ">
    <!-- ‚ùå Bot√≥n de cerrar animado -->
    <button id="cerrarPopup" style="
      position: absolute;
      top: 15px;
      right: 15px;
      background: #f1f1f1;
      border: none;
      border-radius: 50%;
      width: 35px;
      height: 35px;
      font-size: 18px;
      font-weight: bold;
      color: #444;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
      transform: rotate(0deg);
    " title="Cerrar"
    onmouseover="this.style.background='#ffd1e6'; this.style.color='#e83e8c'; this.style.transform='rotate(180deg)';"
    onmouseout="this.style.background='#f1f1f1'; this.style.color='#444'; this.style.transform='rotate(0deg)';">
      ‚úñ
    </button>

    <h2 style="color:#e83e8c; margin-top:25px; font-weight:700;">
      üíå ¬°Suscribite!
    </h2>

    <p style="font-size:1.05em; color:#555; margin-top:10px;">
      Recib√≠ <strong>descuentos exclusivos</strong> y las √∫ltimas <strong>novedades</strong> de nuestro sal√≥n de belleza.
    </p>

    <form id="formNewsletterPopup" style="margin-top:20px;">
      <input type="email" id="emailNewsletterPopup" placeholder="Tu correo electr√≥nico" required
             style="width:100%;padding:12px 16px;border-radius:8px;border:1.5px solid #e83e8c;font-size:1em;">
      <button type="submit" style="
        margin-top:12px;
        background:#e83e8c;
        color:#fff;
        padding:12px 20px;
        border:none;
        border-radius:8px;
        font-size:1em;
        cursor:pointer;
        width:100%;
        transition: background 0.2s ease;
      " onmouseover="this.style.background='#c2185b'" onmouseout="this.style.background='#e83e8c'">
        Suscribirme
      </button>
    </form>

    <div id="mensajeNewsletterPopup" style="display:none;margin-top:15px;font-weight:bold;"></div>
  </div>
</div>

<!-- üîπ Firebase Newsletter Script -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
  import { getFirestore, collection, addDoc, query, where, getDocs } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

  // ‚öôÔ∏è Configuraci√≥n de Firebase (ya adaptada a tu proyecto)
  const firebaseConfig = {
    apiKey: "AIzaSyDanr5jf5gJDJ-4XjLrWJZRrpvJgZ4oR-g",
    authDomain: "espacio-belleza-cyn-9ac1e.firebaseapp.com",
    projectId: "espacio-belleza-cyn-9ac1e",
    storageBucket: "espacio-belleza-cyn-9ac1e.firebasestorage.app",
    messagingSenderId: "261129332365",
    appId: "1:261129332365:web:7afd5e9b77ee354ac724c4",
    measurementId: "G-REP11RK7F3"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const popup = document.getElementById("newsletterPopup");
  const popupContent = document.getElementById("popupContent");
  const mensajePopup = document.getElementById("mensajeNewsletterPopup");
  const mensajeInline = document.getElementById("mensajeNewsletterInline");
  const formNewsletterPopup = document.getElementById("formNewsletterPopup");
  const formNewsletterInline = document.getElementById("formNewsletterInline");

  // üé¨ Mostrar popup solo si el usuario no se suscribi√≥ antes.
  // Comprobamos primero si hay un email guardado en localStorage y lo verificamos en Firestore.
  window.addEventListener("load", async () => {
    const savedEmail = localStorage.getItem("suscriptoNewsletterEmail");
    if (savedEmail) {
      try {
        const existe = await verificarEmailExistente(savedEmail);
        if (!existe) {
          // si guardado localmente pero no en Firestore, mostrar popup
          setTimeout(() => mostrarPopup(), 500);
        } else {
          // ya suscripto en la base; no mostrar popup
          // opcional: mostrar mensaje inline
          mensajeInline.textContent = "¬°Ya est√°s suscripto!";
          mensajeInline.style.display = 'block';
        }
      } catch (err) {
        console.error('Error verificando subscripci√≥n local:', err);
        setTimeout(() => mostrarPopup(), 500);
      }
    } else {
      // si no hay email guardado, mostrar popup
      setTimeout(() => mostrarPopup(), 2000);
    }
  });

  // ‚ùå Cerrar popup
  document.getElementById("cerrarPopup").addEventListener("click", () => {
    popup.style.opacity = "0";
    popupContent.style.transform = "scale(0.9)";
    setTimeout(() => popup.style.visibility = "hidden", 400);
  });

  // üîé Verificar si el email ya est√° registrado
  async function verificarEmailExistente(email) {
    const q = query(collection(db, "newsletter"), where("email", "==", email));
    const querySnapshot = await getDocs(q);
    return !querySnapshot.empty; // true si ya existe
  }

  function mostrarPopup() {
    popup.style.visibility = "visible";
    popup.style.opacity = "1";
    popupContent.style.transform = "scale(1)";
  }

  // üíæ Guardar suscripci√≥n en Firebase (com√∫n para popup e inline)
  async function guardarSuscripcion(email, mensajeElem, hidePopupAfter = false, formElem = null) {
    mensajeElem.style.display = 'none';
    try {
      const existe = await verificarEmailExistente(email);
      if (existe) {
        mensajeElem.textContent = "‚ö†Ô∏è Este correo ya est√° registrado en nuestro Newsletter.";
        mensajeElem.style.color = "#e67e22";
        mensajeElem.style.display = "block";
        return;
      }

      await addDoc(collection(db, "newsletter"), {
        email,
        fecha: new Date().toISOString()
      });

      mensajeElem.textContent = "‚úÖ ¬°Gracias por suscribirte! üíï";
      mensajeElem.style.display = "block";
      mensajeElem.style.color = "#207520";
      if (formElem) formElem.reset();

      // Guardar email local para futuras comprobaciones
      localStorage.setItem("suscriptoNewsletterEmail", email);

      if (hidePopupAfter) {
        setTimeout(() => {
          popup.style.opacity = "0";
          popupContent.style.transform = "scale(0.9)";
          setTimeout(() => popup.style.visibility = "hidden", 400);
        }, 1500);
      }

    } catch (error) {
      console.error("Error al guardar correo:", error);
      mensajeElem.textContent = "‚ùå Error al suscribirte. Intenta nuevamente.";
      mensajeElem.style.color = "#a00";
      mensajeElem.style.display = "block";
    }
  }

  // Conectar formularios
  if (formNewsletterPopup) {
    formNewsletterPopup.addEventListener('submit', async (e) => {
      e.preventDefault();
      const email = document.getElementById('emailNewsletterPopup').value.trim();
      await guardarSuscripcion(email, mensajePopup, true, formNewsletterPopup);
    });
  }
  if (formNewsletterInline) {
    formNewsletterInline.addEventListener('submit', async (e) => {
      e.preventDefault();
      const email = document.getElementById('emailNewsletterInline').value.trim();
      await guardarSuscripcion(email, mensajeInline, false, formNewsletterInline);
    });
  }
</script>


  <footer>
    <p>&copy; 2025 Veliz Leandro & Maidana Mauro. Todos los derechos reservados.</p>
    <p>
      <a href="https://www.instagram.com/salondebelleza.cyn?utm_source=qr&igsh=YWdtM3RicmJkdnVt"><i class="fab fa-instagram"></i> Instagram</a> 
    </p>
  </footer>

  <script type="module" src="script.js"></script>
  <script>
    // Toggle para nav responsive en index
    document.addEventListener('DOMContentLoaded', function(){
      const toggle = document.querySelector('.main-nav .nav-toggle');
      const links = document.querySelector('.main-nav .nav-links');
      if (toggle && links) toggle.addEventListener('click', () => links.classList.toggle('show'));
    });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
</body>
</html>
